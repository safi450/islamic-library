# 📖 قارئ الكتب الاحترافي - Professional PDF Reader

## ✨ نظرة عامة

تم إضافة قارئ PDF احترافي ومتطور إلى المكتبة الإسلامية، يوفر تجربة قراءة ممتازة مع العديد من الميزات المتقدمة.

---

## 🎯 الميزات الرئيسية

### 📚 قراءة متقدمة
- ✅ قراءة ملفات PDF مباشرة في المتصفح
- ✅ عرض واضح وسلس للصفحات
- ✅ تحميل سريع وأداء عالي
- ✅ دعم كامل للغة العربية

### 🔍 التحكم في العرض
- ✅ **تكبير وتصغير** (Zoom In/Out)
  - نطاق التكبير: 50% - 300%
  - تحكم دقيق بنسبة 25% لكل خطوة
  - عرض نسبة التكبير الحالية

### 📑 التنقل
- ✅ **أزرار التنقل** (السابق/التالي)
- ✅ **الانتقال المباشر** لأي صفحة
- ✅ **شريط التقدم** يوضح موقعك في الكتاب
- ✅ **عداد الصفحات** (الصفحة الحالية / إجمالي الصفحات)

### 🌙 أوضاع العرض
- ✅ **الوضع الليلي** (Dark Mode)
  - حماية للعين في الإضاءة المنخفضة
  - تبديل سهل بين الوضع النهاري والليلي
  - حفظ تلقائي للتفضيلات

- ✅ **وضع ملء الشاشة** (Fullscreen)
  - تجربة قراءة غامرة
  - إخفاء جميع العناصر المشتتة
  - خروج سهل بزر ESC

### 💾 الذاكرة الذكية
- ✅ **حفظ آخر صفحة** تلقائياً
- ✅ العودة لنفس الصفحة عند فتح الكتاب مرة أخرى
- ✅ حفظ منفصل لكل كتاب

### ⌨️ اختصارات لوحة المفاتيح
- ✅ `←` `→` : التنقل بين الصفحات
- ✅ `+` `-` : التكبير والتصغير
- ✅ `ESC` : إغلاق القارئ
- ✅ `Ctrl + Scroll` : التكبير بالماوس

### 📱 التصميم المتجاوب
- ✅ يعمل بشكل ممتاز على **الكمبيوتر**
- ✅ متوافق تماماً مع **التابلت**
- ✅ محسّن للاستخدام على **الهاتف المحمول**
- ✅ تكيف تلقائي مع حجم الشاشة

### 🎨 واجهة مستخدم عصرية
- ✅ تصميم نظيف وأنيق
- ✅ أيقونات واضحة ومفهومة
- ✅ ألوان متناسقة مع هوية الموقع
- ✅ تأثيرات حركية سلسة

---

## 🛠️ التقنيات المستخدمة

### المكتبات
- **PDF.js** v3.11.174 من Mozilla
  - مكتبة قوية وموثوقة لعرض PDF
  - دعم كامل لجميع ميزات PDF
  - أداء عالي وسرعة تحميل ممتازة

### الملفات المضافة
```
📁 المشروع
├── 📄 index.html (تم التعديل)
│   └── إضافة HTML للقارئ
├── 📁 css/
│   └── 📄 style.css (تم التعديل)
│       └── إضافة CSS للقارئ (350+ سطر)
├── 📁 js/
│   ├── 📄 script.js (تم التعديل)
│   │   └── تحديث دالة readBook
│   └── 📄 pdf-reader.js (جديد)
│       └── كود القارئ الكامل (350+ سطر)
└── 📁 books/
    └── (ضع ملفات PDF هنا)
```

---

## 📝 كيفية الاستخدام

### للمستخدمين

1. **فتح كتاب:**
   - اضغط على زر "قراءة" في أي بطاقة كتاب
   - سيفتح القارئ تلقائياً

2. **التنقل:**
   - استخدم الأزرار في الأسفل للتنقل
   - أو استخدم أسهم لوحة المفاتيح

3. **التكبير:**
   - اضغط على أزرار + و - في الأعلى
   - أو استخدم Ctrl + Scroll بالماوس

4. **الوضع الليلي:**
   - اضغط على أيقونة القمر 🌙
   - للعودة للوضع النهاري، اضغط على أيقونة الشمس ☀️

5. **ملء الشاشة:**
   - اضغط على أيقونة التوسيع
   - للخروج، اضغط ESC أو الأيقونة مرة أخرى

6. **الإغلاق:**
   - اضغط على زر X الأحمر
   - أو اضغط ESC على لوحة المفاتيح

### للمطورين

#### إضافة كتاب جديد:

1. **أضف بيانات الكتاب** في `js/books-data.js`:
```javascript
{
    id: 1,
    title: "اسم الكتاب",
    author: "اسم المؤلف",
    // ... بقية البيانات
    pdfFile: "books/اسم-الملف.pdf"  // ⚠️ مهم!
}
```

2. **ضع ملف PDF** في مجلد `books/`:
```
books/اسم-الملف.pdf
```

3. **تأكد من تطابق الأسماء** بين books-data.js والملف الفعلي

#### استدعاء القارئ برمجياً:
```javascript
// فتح كتاب برقم ID
openPdfReader(1);

// أو من خلال دالة readBook
readBook(1);
```

---

## 🎨 التخصيص

### تغيير الألوان:
عدّل المتغيرات في `css/style.css`:
```css
:root {
    --primary-color: #2c5f2d;    /* اللون الأساسي */
    --accent-color: #d4af37;     /* اللون الثانوي */
    --dark-color: #1a1a1a;       /* اللون الداكن */
}
```

### تغيير نسبة التكبير الافتراضية:
عدّل في `js/pdf-reader.js`:
```javascript
let scale = 1.5;  // غيّر هذه القيمة (0.5 - 3.0)
```

### تغيير نطاق التكبير:
```javascript
// في دالة zoomIn
if (scale < 3) {  // الحد الأقصى
    scale += 0.25;
}

// في دالة zoomOut
if (scale > 0.5) {  // الحد الأدنى
    scale -= 0.25;
}
```

---

## 🔧 استكشاف الأخطاء

### المشكلة: القارئ لا يفتح
**الحل:**
1. تأكد من وجود ملف PDF في المسار الصحيح
2. افتح Console (F12) وتحقق من الأخطاء
3. تأكد من أن `pdfFile` في books-data.js صحيح

### المشكلة: الكتاب لا يظهر
**الحل:**
1. تأكد من أن ملف PDF صالح وغير تالف
2. جرب فتح الملف مباشرة في المتصفح
3. تحقق من حجم الملف (يفضل أقل من 50MB)

### المشكلة: التحميل بطيء
**الحل:**
1. قلل حجم ملف PDF باستخدام أدوات الضغط
2. استخدم PDF محسّن للويب
3. تأكد من سرعة الإنترنت (إذا كان الملف على سيرفر)

### المشكلة: الوضع الليلي لا يعمل بشكل صحيح
**الحل:**
- هذا طبيعي مع بعض ملفات PDF الملونة
- الوضع الليلي يعمل بشكل أفضل مع PDF النصية

---

## 📊 الأداء

### التحسينات المطبقة:
- ✅ تحميل كسول للصفحات (Lazy Loading)
- ✅ تخزين مؤقت للصفحات المعروضة
- ✅ عرض سلس بدون تقطيع
- ✅ استخدام Canvas لعرض أسرع

### متطلبات النظام:
- ✅ متصفح حديث (Chrome, Firefox, Safari, Edge)
- ✅ JavaScript مفعّل
- ✅ اتصال بالإنترنت (لتحميل PDF.js)

---

## 🌟 الميزات المستقبلية (اختياري)

يمكن إضافة المزيد من الميزات:
- 🔍 البحث داخل الكتاب
- 🔖 الإشارات المرجعية (Bookmarks)
- 📝 التعليقات والملاحظات
- 🖍️ التظليل والتحديد
- 📤 المشاركة على وسائل التواصل
- 🎧 القراءة الصوتية (Text-to-Speech)
- 📊 إحصائيات القراءة
- 👥 وضع القراءة الجماعية

---

## 🤝 المساهمة

إذا أردت تحسين القارئ:
1. عدّل الملفات المطلوبة
2. اختبر التغييرات
3. تأكد من التوافق مع الأجهزة المختلفة

---

## 📄 الترخيص

هذا المشروع مفتوح المصدر ومجاني للاستخدام.
نسأل الله أن ينفع به وأن يجعله في ميزان حسناتنا وحسناتكم.

---

## 🤲 دعواتكم

**نشر العلم صدقة جارية**

كل من يستفيد من هذه الكتب، يكون لك نصيب من الأجر بإذن الله.

**🤲 لا تنسونا من صالح دعائكم**

ادعُ لنا ولوالدينا بالمغفرة والرحمة

---

## 📞 الدعم

إذا واجهت أي مشكلة أو لديك اقتراح:
- افتح Console (F12) وتحقق من الأخطاء
- راجع قسم "استكشاف الأخطاء" أعلاه
- تأكد من اتباع التعليمات بدقة

---

## ⭐ الخلاصة

تم إنشاء قارئ PDF احترافي ومتطور يوفر:
- ✅ تجربة قراءة ممتازة
- ✅ ميزات متقدمة
- ✅ تصميم عصري
- ✅ أداء عالي
- ✅ سهولة استخدام

**جزاكم الله خيراً**

---

*تم التطوير بواسطة: فريق المكتبة الإسلامية*  
*التاريخ: 2024*  
*الإصدار: 1.0*